<app-new-message (messageAdd)="onMessageAdd($event)"></app-new-message>

<div *ngIf="messages$ | async as messages; else loading">
    <app-message *ngFor="let message of messages" [message]="message"></app-message>
</div>

<ng-template #loading>
    Loading data...
</ng-template>